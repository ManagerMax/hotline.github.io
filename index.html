<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ú–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f2f5f9; margin:0; padding:20px; }
    h1 { text-align: center; margin-bottom: 24px; }
    .grid { display: grid; grid-template-columns: 1fr; gap: 18px; max-width:420px; margin:auto; }
    .card { background:white; padding:22px; border-radius:14px; box-shadow:0 4px 20px rgba(0,0,0,0.07); text-align:center; cursor:pointer; transition:0.2s; }
    .card:hover { transform: scale(1.02); }
    .card h2 { margin-top:0; }
    .back { margin:12px auto 0; display:block; width:100%; max-width:420px; padding:12px; border-radius:10px; border:none; background:#dadde2; cursor:pointer; font-size:16px; }
    .btn { background:#2b8cff; color:white; padding:14px; border:none; width:100%; border-radius:10px; font-size:17px; cursor:pointer; }
    .btn:active { background:#1b6edb; }
    .form-field { margin-bottom:14px; text-align:left; }
    .form-field label { font-size:14px; color:#555; }
    .form-field input, .form-field textarea { width:100%; padding:12px; margin-top:6px; border-radius:8px; border:1px solid #ccc; font-size:16px; }
  </style>
</head>
<body>

  <div id="screen-main">
    <h1>–°–µ—Ä–≤–∏—Å—ã</h1>
    <div class="grid">
      <div class="card" onclick="openHotline()"><h2>üìû –ì–æ—Ä—è—á–∞—è –ª–∏–Ω–∏—è</h2><p>–ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã –ø–æ–∑–≤–æ–Ω–∏—Ç—å –≤ –ø—Ä–∏–µ–º–Ω—É—é</p></div>
      <div class="card" onclick="openMinister()"><h2>üßë‚Äç‚öñÔ∏è –ó–∞–ø–∏—Å—å –∫ –º–∏–Ω–∏—Å—Ç—Ä—É</h2><p>–û—Å—Ç–∞–≤—å—Ç–µ –∑–∞—è–≤–∫—É –Ω–∞ –ª–∏—á–Ω—ã–π –ø—Ä–∏—ë–º</p></div>
    </div>
  </div>

  <div id="screen-hotline" style="display:none;">
    <h1>–ì–æ—Ä—è—á–∞—è –ª–∏–Ω–∏—è</h1>
    <div class="card">
      <p>–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ, —á—Ç–æ–±—ã —Å—Ä–∞–∑—É –Ω–∞–±—Ä–∞—Ç—å –Ω–æ–º–µ—Ä</p>
      <button class="btn" onclick="call117()">üìû –ü–æ–∑–≤–æ–Ω–∏—Ç—å –≤ –ø—Ä–∏–µ–º–Ω—É—é</button>
    </div>
    <button class="back" onclick="goBack()">‚Üê –ù–∞–∑–∞–¥</button>
  </div>

  <div id="screen-minister" style="display:none;">
    <h1>–ó–∞–ø–∏—Å—å –∫ –º–∏–Ω–∏—Å—Ç—Ä—É</h1>
    <div class="card" style="text-align:left;">
      <div class="form-field"><label>–§–ò–û</label><input id="fio" placeholder="–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á"></div>
      <div class="form-field"><label>–¢–µ–ª–µ—Ñ–æ–Ω</label><input id="phone" placeholder="+7 914 144-32-23" maxlength="16"></div>
      <div class="form-field"><label>–¢–µ–º–∞ –æ–±—Ä–∞—â–µ–Ω–∏—è</label><textarea id="topic" rows="4" placeholder="–û–ø–∏—à–∏—Ç–µ —Ç–µ–º—É –≤—Å—Ç—Ä–µ—á–∏"></textarea></div>
      <button class="btn" onclick="sendMinisterRequest()">üì® –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</button>
    </div>
    <button class="back" onclick="goBack()">‚Üê –ù–∞–∑–∞–¥</button>
  </div>

  <script>
    function show(screen) { document.querySelectorAll("div[id^='screen']").forEach(s => s.style.display="none"); document.getElementById(screen).style.display="block"; }
    function openHotline() { show("screen-hotline"); }
    function openMinister() { show("screen-minister"); }
    function goBack() { show("screen-main"); }
    function call117() { window.location.href = "tel:84212402511"; }

    const phoneInput = document.getElementById("phone");
    phoneInput.addEventListener("input", function() {
      let digits = this.value.replace(/\D/g,'');
      if(digits.startsWith("8")) digits="7"+digits.slice(1);
      if(!digits.startsWith("7")) digits="7"+digits.slice(1);
      let formatted="+"+digits[0];
      if(digits.length>1) formatted+=" "+digits.slice(1,4);
      if(digits.length>=4) formatted+=" "+digits.slice(4,7);
      if(digits.length>=7) formatted+="-"+digits.slice(7,9);
      if(digits.length>=9) formatted+="-"+digits.slice(9,11);
      this.value=formatted;
    });

    function sendMinisterRequest() {
      let fio=document.getElementById("fio").value.trim();
      let phone=document.getElementById("phone").value.trim();
      let topic=document.getElementById("topic").value.trim();

      if(!fio || !phone || !topic){ alert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è."); return; }

      let phoneDigits=phone.replace(/\D/g,'');
      if(phoneDigits.length!==11 || !phoneDigits.startsWith("7")) {
        alert("–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ +79141443223."); return;
      }

      if(topic.length<30){ alert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–ø–∏—à–∏—Ç–µ —Å—É—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏—è –ø–æ–¥—Ä–æ–±–Ω–µ–µ (–º–∏–Ω–∏–º—É–º 30 —Å–∏–º–≤–æ–ª–æ–≤)."); return; }

      // –¢–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–∞—è –∑–∞–≥–ª—É—à–∫–∞ ‚Äî –Ω–∏–∫–∞–∫–æ–≥–æ fetch
      alert("‚úÖ –í–∞—à–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å—Ç–∞—Ç—É—Å–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏!");
      goBack();
    }
  </script>

</body>
</html>
